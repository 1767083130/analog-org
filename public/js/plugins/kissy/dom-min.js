/*
Copyright 2012, KISSY UI Library v1.30rc
MIT Licensed
build time: Nov 22 22:06
*/
KISSY.add("dom/attr",function(f,a,d,i){function n(a,b){var b=s[b]||b,h=B[b];return h&&h.get?h.get(a,b):a[b]}var p=f.Env.host.document,m=a.NodeType,r=p.documentElement,d=d.ie&&(p.documentMode||d.ie),u=r.textContent===i?"innerText":"textContent",g=a.nodeName,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,e=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,b=/:|^on/,c=/\r/g,o={},t={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):e.test(a.nodeName)||k.test(a.nodeName)&&a.href?0:i}},style:{get:function(a){return a.style.cssText},set:function(a,b){a.style.cssText=b}}},s={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},q={get:function(b,c){return a.prop(b,c)?c.toLowerCase():i},set:function(b,c,h){!1===c?a.removeAttr(b,h):(c=s[h]||h,c in b&&(b[c]=!0),b.setAttribute(h,h.toLowerCase()));return h}},B={},w={},z={option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(b){var c=b.selectedIndex,h=b.options;if(0>c)return null;if("select-one"===b.type)return a.val(h[c]);for(var b=[],c=0,l=h.length;c<
l;++c)h[c].selected&&b.push(a.val(h[c]));return b},set:function(b,c){var h=f.makeArray(c);f.each(b.options,function(b){b.selected=f.inArray(a.val(b),h)});h.length||(b.selectedIndex=-1);return h}}};d&&8>d&&(w={get:function(a,b){var h;return(h=a.getAttributeNode(b))&&(h.specified||h.nodeValue)?h.nodeValue:i},set:function(a,b,h){var l=a.getAttributeNode(h);if(l)l.nodeValue=b;else try{var c=a.ownerDocument.createAttribute(h);c.value=b;a.setAttributeNode(c)}catch(g){return a.setAttribute(h,b,0)}}},o=s,
v.tabIndex=v.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){v[a]={get:function(b){b=b.getAttribute(a,2);return b===null?i:b}}}),z.button=v.value=w);d&&9>d&&((v.href=v.href||{}).set=function(a,b,h){for(var c=a.childNodes,g,e=c.length,j=e>0,e=e-1;e>=0;e--)c[e].nodeType!=m.TEXT_NODE&&(j=0);if(j){g=a.ownerDocument.createElement("b");g.style.display="none";a.appendChild(g)}a.setAttribute(h,""+b);g&&a.removeChild(g)});f.each(["radio","checkbox"],function(b){z[b]={get:function(a){return a.getAttribute("value")===
null?"on":a.value},set:function(b,h){if(f.isArray(h))return b.checked=f.inArray(a.val(b),h)}}});f.mix(a,{prop:function(b,c,h){var l=a.query(b);if(f.isPlainObject(c)){f.each(c,function(b,h){a.prop(l,h,b)});return i}c=s[c]||c;b=B[c];if(h!==i)for(var g=l.length-1;g>=0;g--){var e=l[g];b&&b.set?b.set(e,h,c):e[c]=h}else if(l.length)return n(l[0],c);return i},hasProp:function(b,c){for(var h=a.query(b),l=0;l<h.length;l++)if(n(h[l],c)!==i)return true;return false},removeProp:function(b,c){for(var c=s[c]||
c,h=a.query(b),l=h.length-1;l>=0;l--){var g=h[l];try{g[c]=i;delete g[c]}catch(e){}}},attr:function(c,e,h,l){var A=a.query(c);if(f.isPlainObject(e)){var l=h,d;for(d in e)e.hasOwnProperty(d)&&a.attr(A,d,e[d],l);return i}if(!(e=f.trim(e)))return i;if(l&&t[e])return a[e](c,h);e=e.toLowerCase();if(l&&t[e])return a[e](c,h);e=o[e]||e;l=A[0];c=j.test(e)?q:b.test(e)?w:v[e];if(h===i){if(l&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);if(c&&c.get)return c.get(l,e);e=l.getAttribute(e);return e===null?i:e}}else for(d=
A.length-1;d>=0;d--)if((l=A[d])&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);c&&c.set?c.set(l,h,e):l.setAttribute(e,""+h)}return i},removeAttr:function(b,c){var c=c.toLowerCase(),c=o[c]||c,h=a.query(b),l,e;for(e=h.length-1;e>=0;e--){l=h[e];if(l.nodeType==m.ELEMENT_NODE){var g;l.removeAttribute(c);if(j.test(c)&&(g=s[c]||c)in l)l[g]=false}}},hasAttr:!r.hasAttribute?function(b,c){for(var c=c.toLowerCase(),h=a.query(b),l=0;l<h.length;l++){var e=h[l].getAttributeNode(c);if(e&&e.specified)return true}return false}:
function(b,c){for(var h=a.query(b),l=0;l<h.length;l++)if(h[l].hasAttribute(c))return true;return false},val:function(b,e){var h,l;if(e===i){var d=a.get(b);if(d){if((h=z[g(d)]||z[d.type])&&"get"in h&&(l=h.get(d,"value"))!==i)return l;l=d.value;return typeof l==="string"?l.replace(c,""):l==null?"":l}return i}l=a.query(b);var j;for(j=l.length-1;j>=0;j--){d=l[j];if(d.nodeType!==1)break;var k=e;k==null?k="":typeof k==="number"?k=k+"":f.isArray(k)&&(k=f.map(k,function(b){return b==null?"":b+""}));h=z[g(d)]||
z[d.type];if(!h||!("set"in h)||h.set(d,k,"value")===i)d.value=k}return i},_propHooks:B,text:function(b,c){if(c===i){var h=a.get(b);if(h.nodeType==m.ELEMENT_NODE)return h[u]||"";if(h.nodeType==m.TEXT_NODE)return h.nodeValue}else{var l=a.query(b),e;for(e=l.length-1;e>=0;e--){h=l[e];if(h.nodeType==m.ELEMENT_NODE)h[u]=c;else if(h.nodeType==m.TEXT_NODE)h.nodeValue=c}}return i}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(f,a,d){var i=f.Env.host,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},p={isCustomDomain:function(a){var a=a||i,d=a.document.domain,a=a.location.hostname;return d!=a&&d!="["+a+"]"},getEmptyIframeSrc:function(f){f=f||i;return a.ie&&p.isCustomDomain(f)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
f.document.domain+"';document.close();")+"}())":d},NodeType:n,_getWin:function(a){return null==a?i:"scrollTo"in a&&a.document?a:a.nodeType==n.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(d){var f=p.get(d),d=f.nodeName.toLowerCase();a.ie&&(f=f.scopeName)&&"HTML"!=f&&(d=f.toLowerCase()+":"+d);return d}};f.mix(p,n);return p},{requires:["ua"]});
KISSY.add("dom/class",function(f,a,d){function i(i,m,g,j){if(!(m=f.trim(m)))return j?!1:d;for(var i=a.query(i),e=i.length,k=m.split(p),m=[],b=0;b<k.length;b++){var c=f.trim(k[b]);c&&m.push(c)}for(b=0;b<e;b++)if(k=i[b],k.nodeType==n.ELEMENT_NODE&&(k=g(k,m,m.length),k!==d))return k;return j?!1:d}var n=a.NodeType,p=/[\.\s]\s*\.?/,m=/[\n\t]/g;f.mix(a,{hasClass:function(a,d){return i(a,d,function(a,d,e){if(a=a.className){for(var a=(" "+a+" ").replace(m," "),f=0,b=!0;f<e;f++)if(0>a.indexOf(" "+d[f]+" ")){b=
!1;break}if(b)return!0}},!0)},addClass:function(a,n){i(a,n,function(a,d,e){var k=a.className;if(k){for(var b=(" "+k+" ").replace(m," "),c=0;c<e;c++)0>b.indexOf(" "+d[c]+" ")&&(k+=" "+d[c]);a.className=f.trim(k)}else a.className=n},d)},removeClass:function(a,n){i(a,n,function(a,d,e){var k=a.className;if(k)if(e){for(var k=(" "+k+" ").replace(m," "),b=0,c;b<e;b++)for(c=" "+d[b]+" ";0<=k.indexOf(c);)k=k.replace(c," ");a.className=f.trim(k)}else a.className=""},d)},replaceClass:function(d,f,g){a.removeClass(d,
f);a.addClass(d,g)},toggleClass:function(n,m,g){var j=f.isBoolean(g),e;i(n,m,function(d,b,c){for(var f=0,i;f<c;f++)i=b[f],e=j?!g:a.hasClass(d,i),a[e?"removeClass":"addClass"](d,i)},d)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,d,i){function n(b){var c=f.require("event");c&&c.detach(b);a.removeData(b)}function p(a,b,c){if(b.nodeType==j.DOCUMENT_FRAGMENT_NODE)for(var b=b.childNodes,c=c.childNodes,e=0;b[e];)c[e]&&p(a,b[e],c[e]),e++;else if(b.nodeType==j.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(e=0;b[e];)c[e]&&a(b[e],c[e]),e++}}function m(b,c){var e=f.require("event");if(c.nodeType!=j.ELEMENT_NODE||a.hasData(b)){var d=a.data(b),g;for(g in d)a.data(c,g,
d[g]);e&&(e._removeData(c),e._clone(b,c))}}function r(b,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(b);var e=c.nodeName.toLowerCase(),d=b.childNodes;if("object"===e&&!c.childNodes.length)for(e=0;e<d.length;e++)c.appendChild(d[e].cloneNode(!0));else if("input"===e&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(c.defaultChecked=c.checked=b.checked),c.value!==b.value)c.value=b.value}else if("option"===e)c.selected=b.defaultSelected;else if("input"===e||"textarea"===
e)c.defaultValue=b.defaultValue;c.removeAttribute(a.__EXPANDO)}function u(b){var a=null,c,e;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=f.makeArray(b);c=0;for(e=b.length;c<e;c++)a.appendChild(b[c])}return a}var g=f.Env.host.document,j=a.NodeType,d=d.ie,e=f.isString,k=g.createElement("div"),b=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,o=/<tbody/i,t=/^\s+/,v=d&&9>d,s=/<|&#?\w+;/,q="outerHTML"in g.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
f.mix(a,{create:function(h,d,k,o){var q=null;if(!h)return q;if(h.nodeType)return a.clone(h);if(!e(h))return q;o===i&&(o=!0);o&&(h=f.trim(h));var o=a._creators,F,G,k=k||g,C,H="div";if(s.test(h))if(C=B.exec(h))q=k.createElement(C[1]);else{h=h.replace(b,"<$1></$2>");if((C=c.exec(h))&&(F=C[1]))H=F.toLowerCase();F=(o[H]||o.div)(h,k);v&&(G=h.match(t))&&F.insertBefore(k.createTextNode(G[0]),F.firstChild);h=F.childNodes;1===h.length?q=h[0].parentNode.removeChild(h[0]):h.length&&(q=u(h))}else q=k.createTextNode(h);
f.isPlainObject(d)&&(q.nodeType==j.ELEMENT_NODE?a.attr(q,d,!0):q.nodeType==j.DOCUMENT_FRAGMENT_NODE&&a.attr(q.childNodes,d,!0));return q},_creators:{div:function(b,a){var c=a&&a!=g?a.createElement("div"):k;c.innerHTML="m<div>"+b+"</div>";return c.lastChild}},html:function(b,e,d,g){var b=a.query(b),f=b[0];if(f){if(e===i)return f.nodeType==j.ELEMENT_NODE?f.innerHTML:null;var k=!1,G,C,e=e+"";if(!e.match(/<(?:script|style|link)/i)&&(!v||!e.match(t))&&!y[(e.match(c)||["",""])[1].toLowerCase()])try{for(G=
b.length-1;0<=G;G--)C=b[G],C.nodeType==j.ELEMENT_NODE&&(n(C.getElementsByTagName("*")),C.innerHTML=e);k=!0}catch(H){}k||(e=a.create(e,0,f.ownerDocument,0),a.empty(b),a.append(e,b,d));g&&g()}},outerHTML:function(b,c,e){var b=a.query(b),d=b.length,g=b[0];if(g){if(c===i){if(q)return g.outerHTML;c=g.ownerDocument.createElement("div");c.appendChild(a.clone(g,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&q)for(e=d-1;0<=e;e--)g=b[e],g.nodeType==j.ELEMENT_NODE&&(n(g),n(g.getElementsByTagName("*")),
g.outerHTML=c);else c=a.create(c,0,g.ownerDocument,0),a.insertBefore(c,b,e),a.remove(b)}},remove:function(b,c){var e,d=a.query(b),g;for(g=d.length-1;0<=g;g--){e=d[g];if(!c&&e.nodeType==j.ELEMENT_NODE){var f=e.getElementsByTagName("*");n(f);n(e)}e.parentNode&&e.parentNode.removeChild(e)}},clone:function(b,c,e,d){"object"===typeof c&&(d=c.deepWithDataAndEvent,e=c.withDataAndEvent,c=c.deep);b=a.get(b);if(!b)return null;var g=b.cloneNode(c);if(b.nodeType==j.ELEMENT_NODE||b.nodeType==j.DOCUMENT_FRAGMENT_NODE)b.nodeType==
j.ELEMENT_NODE&&r(b,g),c&&p(r,b,g);e&&(m(b,g),c&&d&&p(m,b,g));return g},empty:function(b){var b=a.query(b),c,e;for(e=b.length-1;0<=e;e--)c=b[e],a.remove(c.childNodes)},nodeListToFragment:u});var w=a._creators,z=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},D;for(D in y)(function(b){w[D]=function(c,a){return z("<"+b+">"+c+"</"+b+">",null,a)}})(y[D]);8>d&&
(w.table=function(b,c){var e=w.div(b,c);if(o.test(b))return e;var d=e.firstChild,g=f.makeArray(d.childNodes);f.each(g,function(b){"tbody"==a.nodeName(b)&&!b.childNodes.length&&d.removeChild(b)});return e});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,d){var i=f.Env.host,n="__ks_data_"+f.now(),p={},m={},r={applet:1,object:1,embed:1},u={hasData:function(a,g){if(a)if(g!==d){if(g in a)return!0}else if(!f.isEmptyObject(a))return!0;return!1}},g={hasData:function(a,d){return a==i?g.hasData(m,d):u.hasData(a[n],d)},data:function(a,f,b){if(a==i)return g.data(m,f,b);var c=a[n];if(b!==d)c=a[n]=a[n]||{},c[f]=b;else return f!==d?c&&c[f]:c=a[n]=a[n]||{}},removeData:function(a,j){if(a==i)return g.removeData(m,j);var b=a[n];if(j!==
d)delete b[j],f.isEmptyObject(b)&&g.removeData(a);else try{delete a[n]}catch(c){a[n]=d}}},j={hasData:function(a,d){var b=a[n];return!b?!1:u.hasData(p[b],d)},data:function(a,g,b){if(r[a.nodeName.toLowerCase()])return d;var c=a[n];if(!c){if(g!==d&&b===d)return d;c=a[n]=f.guid()}a=p[c];if(b!==d)a=p[c]=p[c]||{},a[g]=b;else return g!==d?a&&a[g]:a=p[c]=p[c]||{}},removeData:function(a,g){var b=a[n],c;if(b)if(c=p[b],g!==d)delete c[g],f.isEmptyObject(c)&&j.removeData(a);else{delete p[b];try{delete a[n]}catch(o){a[n]=
d}a.removeAttribute&&a.removeAttribute(n)}}};f.mix(a,{__EXPANDO:n,hasData:function(e,d){for(var b=!1,c=a.query(e),f=0;f<c.length&&!(b=c[f],b=b.nodeType?j.hasData(b,d):g.hasData(b,d));f++);return b},data:function(e,i,b){var e=a.query(e),c=e[0];if(f.isPlainObject(i)){for(var o in i)i.hasOwnProperty(o)&&a.data(e,o,i[o]);return d}if(b===d){if(c)return c.nodeType?j.data(c,i):g.data(c,i)}else for(o=e.length-1;0<=o;o--)c=e[o],c.nodeType?j.data(c,i,b):g.data(c,i,b);return d},removeData:function(e,d){var b=
a.query(e),c,f;for(f=b.length-1;0<=f;f--)c=b[f],c.nodeType?j.removeData(c,d):g.removeData(c,d)}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){f.mix(f,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(f,a,d){function i(b){for(var a=0;a<b.length;a++){var e=b[a];if(e.nodeType==r.DOCUMENT_FRAGMENT_NODE)i(e.childNodes);else if("input"==g(e)){if("checkbox"===e.type||"radio"===e.type)e.defaultChecked=e.checked}else if(e.nodeType==r.ELEMENT_NODE)for(var e=e.getElementsByTagName("input"),d=0;d<e.length;d++)i(e[d])}}function n(b,a){var d=[],f,i,s;for(f=0;b[f];f++)if(i=b[f],s=g(i),i.nodeType==r.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,n(j(i.childNodes),a));else if("script"===
s&&(!i.type||k.test(i.type)))i.parentNode&&i.parentNode.removeChild(i),a&&a.push(i);else{if(i.nodeType==r.ELEMENT_NODE&&!u.test(s)){s=[];var q,m,w=i.getElementsByTagName("script");for(m=0;m<w.length;m++)q=w[m],(!q.type||k.test(q.type))&&s.push(q);e.apply(b,[f+1,0].concat(s))}d.push(i)}return d}function p(b){b.src?f.getScript(b.src):(b=f.trim(b.text||b.textContent||b.innerHTML||""))&&f.globalEval(b)}function m(b,c,e,g){b=d.query(b);g&&(g=[]);b=n(b,g);8>a.ie&&i(b);var c=d.query(c),j=c.length;if((b.length||
g&&g.length)&&j){var b=d.nodeListToFragment(b),s;1<j&&(s=d.clone(b,!0),c=f.makeArray(c));for(var q=0;q<j;q++){var k=c[q];if(b){var m=0<q?d.clone(s,!0):b;e(m,k)}g&&g.length&&f.each(g,p)}}}var r=d.NodeType,u=/^(?:button|input|object|select|textarea)$/i,g=d.nodeName,j=f.makeArray,e=[].splice,k=/\/(java|ecma)script/i;f.mix(d,{insertBefore:function(b,a,e){m(b,a,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},e)},insertAfter:function(b,a,e){m(b,a,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,
b.nextSibling)},e)},appendTo:function(b,a,e){m(b,a,function(a,b){b.appendChild(a)},e)},prependTo:function(a,c,e){m(a,c,function(a,b){b.insertBefore(a,b.firstChild)},e)},wrapAll:function(a,c){c=d.clone(d.get(c),!0);a=d.query(a);a[0].parentNode&&d.insertBefore(c,a[0]);for(var e;(e=c.firstChild)&&1==e.nodeType;)c=e;d.appendTo(a,c)},wrap:function(a,c){a=d.query(a);c=d.get(c);f.each(a,function(a){d.wrapAll(a,c)})},wrapInner:function(a,c){a=d.query(a);c=d.get(c);f.each(a,function(a){var b=a.childNodes;
b.length?d.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=d.query(a);f.each(a,function(a){a=a.parentNode;d.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var e=d.query(a),c=d.query(c);d.remove(c,!0);d.insertBefore(c,e);d.remove(e)}});f.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,c){d[c]=d[a]});return d},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(f,a,d,i){function n(a){var e,d=a.ownerDocument.body;e=a.getBoundingClientRect();a=e[b];e=e[c];a-=u.clientLeft||d.clientLeft||0;e-=u.clientTop||d.clientTop||0;return{left:a,top:e}}function p(b,c){var e={left:0,top:0},d=g(b[k]),f=b,c=c||d;do{var j;if(d==c){var i=f;j=n(i);i=g(i[k]);j.left+=a[t](i);j.top+=a[v](i)}else j=n(f);e.left+=j.left;e.top+=j.top}while(d&&d!=c&&(f=d.frameElement)&&(d=d.parent));return e}var m=f.Env.host,r=a.NodeType,u=m.document.documentElement,g=
a._getWin,j=Math.max,e=parseInt,k="ownerDocument",b="left",c="top",o=f.isNumber,t="scrollLeft",v="scrollTop";f.mix(a,{offset:function(b,c,d){if(c===i){var b=a.get(b),g;b&&(g=p(b,d));return g}d=a.query(b);for(g=d.length-1;0<=g;g--){var b=d[g],f=c;"static"===a.css(b,"position")&&(b.style.position="relative");var j=p(b),k={},h=void 0,l=void 0;for(l in f)f.hasOwnProperty(l)&&(h=e(a.css(b,l),10)||0,k[l]=h+f[l]-j[l]);a.css(b,k)}return i},scrollIntoView:function(d,f,j,k,m){var n,o,h;if(o=a.get(d)){f&&(f=
a.get(f));f||(f=o.ownerDocument);!0!==m&&(k=k===i?!0:!!k,j=j===i?!0:!!j);f.nodeType==r.DOCUMENT_NODE&&(f=g(f));h=!!g(f);m=a.offset(o);d=a.outerHeight(o);n=a.outerWidth(o);var l,p,v,t;h?(o=f,l=a.height(o),p=a.width(o),t={left:a.scrollLeft(o),top:a.scrollTop(o)},o=m[b]-t[b],h=m[c]-t[c],n=m[b]+n-(t[b]+p),m=m[c]+d-(t[c]+l)):(l=a.offset(f),p=f.clientHeight,v=f.clientWidth,t={left:a.scrollLeft(f),top:a.scrollTop(f)},o=m[b]-l[b]-(e(a.css(f,"borderLeftWidth"))||0),h=m[c]-l[c]-(e(a.css(f,"borderTopWidth"))||
0),n=m[b]+n-(l[b]+v+(e(a.css(f,"borderRightWidth"))||0)),m=m[c]+d-(l[c]+p+(e(a.css(f,"borderBottomWidth"))||0)));if(0>h||0<m)!0===j?a.scrollTop(f,t.top+h):!1===j?a.scrollTop(f,t.top+m):0>h?a.scrollTop(f,t.top+h):a.scrollTop(f,t.top+m);if(k&&(0>o||0<n))!0===j?a.scrollLeft(f,t.left+o):!1===j?a.scrollLeft(f,t.left+n):0>o?a.scrollLeft(f,t.left+o):a.scrollLeft(f,t.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});f.each(["Left","Top"],function(b,c){var e="scroll"+
b;a[e]=function(d,f){if(o(d))return arguments.callee(m,d);var d=a.get(d),j,k=g(d);if(k)if(f!==i){var f=parseFloat(f),h="Left"==b?f:a.scrollLeft(k),l="Top"==b?f:a.scrollTop(k);k.scrollTo(h,l)}else j=k["page"+(c?"Y":"X")+"Offset"],o(j)||(k=k.document,j=k.documentElement[e],o(j)||(j=k.body[e]));else d.nodeType==r.ELEMENT_NODE&&(f!==i?d[e]=parseFloat(f):j=d[e]);return j}});f.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=g(c).document;return j(c.documentElement["scroll"+b],c.body["scroll"+
b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),e="client"+b,c=g(c).document,d=c.body,f=c.documentElement[e];return"CSS1Compat"===c.compatMode&&f||d&&d[e]||f}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(f,a,d){function i(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function n(a,c){var e,g,j=v(a),h=c===d&&(g=1)?[b]:n(c,d);if(a)if(j)a=D(a),g&&"body"==a?e=[b.body]:1==h.length&&a&&(e=m(a,h[0]));else{if(g)if(a.nodeType||a.setTimeout)e=[a];else{if(a.getDOMNodes)return a;e=t(a)?a:q(a)?f.makeArray(a):[a]}}else e=[];if(!e&&(e=[],a)){for(g=0;g<h.length;g++)w.apply(e,p(a,h[g]));1<e.length&&(1<h.length||j&&-1<a.indexOf(y))&&x(e)}e.each=i;return e}function p(a,
b){var c=v(a);if(c&&a.match(A)||!c)c=r(a,b);else if(c&&-1<a.indexOf(y)){var c=[],e,d=a.split(/\s*,\s*/);for(e=0;e<d.length;e++)w.apply(c,p(d[e],b))}else c=[],(e=f.require("sizzle"))&&e(a,b,c);return c}function m(a,b){var c,d,f,h;if(l.test(a))c=(d=g(a.slice(1),b))?[d]:[];else if(f=A.exec(a)){d=f[1];h=f[2];f=f[3];if(b=d?g(d,b):b)f?!d||-1!=a.indexOf(z)?c=[].concat(E(f,h,b)):(d=g(d,b))&&e(d,f)&&(c=[d]):h&&(c=j(h,b));c=c||[]}return c}function r(a,b){var c;v(a)?c=m(a,b)||[]:t(a)||q(a)?c=o(a,function(a){return u(a,
b)}):u(a,b)&&(c=[a]);return c}function u(c,e){return!c?!1:e==b?!0:a.contains(e,c)}function g(b,e){var d=e;e.nodeType!==c.DOCUMENT_NODE&&(d=e.ownerDocument);(d=d.getElementById(b))&&d.id===b||(d&&d.parentNode?k(d,b)?u(d,e)||(d=null):d=a.filter(h,"#"+b,e)[0]||null:d=null);return d}function j(a,b){return b&&s(b.getElementsByTagName(a))||[]}function e(a,b){var c;return(c=a.className)&&-1!==(" "+c+" ").indexOf(" "+b+" ")}function k(a,b){var c=a.getAttributeNode("id");return c&&c.nodeValue===b}var b=f.Env.host.document,
c=a.NodeType,o=f.filter,t=f.isArray,v=f.isString,s=f.makeArray,q=a._isNodeList,B=a.nodeName,w=Array.prototype.push,z=" ",y=",",D=f.trim,h="*",l=/^#[\w-]+$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=f.noop;(function(){var a,c,e=!0;[0,0].sort(function(){e=!1;return 0});x=function(b){if(a&&(c=e,b.sort(a),c))for(var d=1,f=b.length;d<f;)b[d]===b[d-1]?b.splice(d,1):d++;return b};a=b.documentElement.compareDocumentPosition?function(a,b){return a==b?(c=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?
a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b)return c=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();(function(){var a=b.createElement("div");a.appendChild(b.createComment(""));0<a.getElementsByTagName(h).length&&(j=function(a,b){var c=s(b.getElementsByTagName(a));if(a===h){for(var e=[],d=0,f;f=c[d++];)1===f.nodeType&&e.push(f);c=e}return c})})();var E=b.getElementsByClassName?function(a,b,c){if(!c)return[];var a=c.getElementsByClassName(a),
e=0,d=a.length,f;if(b&&b!==h){b=b.toLowerCase();for(c=[];e<d;++e)f=a[e],B(f)==b&&c.push(f)}else c=s(a);return c}:b.querySelectorAll?function(a,b,c){return c&&s(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,c){if(!c)return[];for(var b=c.getElementsByTagName(b||h),c=[],d=0,f=b.length,g;d<f;++d)g=b[d],e(g,a)&&c.push(g);return c};f.mix(a,{query:n,get:function(a,b){return n(a,b)[0]||null},unique:x,filter:function(a,b,c){var a=n(a,c),c=f.require("sizzle"),d,g,j,h,i=[];if(v(b)&&(b=D(b))&&(d=A.exec(b)))j=
d[1],g=d[2],h=d[3],j?j&&!g&&!h&&(b=function(a){return k(a,j)}):b=function(a){var b=!0,c=!0;g&&(b=B(a)==g.toLowerCase());h&&(c=e(a,h));return c&&b};f.isFunction(b)?i=f.filter(a,b):b&&c&&(i=c.matches(b,a));return i},test:function(b,c,e){b=n(b,e);return b.length&&a.filter(b,c,e).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(f,a,d,i){if(!d.ie)return a;var n=f.Env.host.document,p=n.documentElement,m=i._CUSTOM_STYLES,r=/^-?\d+(?:px)?$/i,u=/^-?\d/,g=/opacity=([^)]*)/,j=/alpha\([^)]*\)/i;m.backgroundPosition={get:function(a,c){return c?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==p.style.opacity&&(m.opacity={get:function(a,c){return g.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":c?"1":""},set:function(a,c){var c=parseFloat(c),e=a.style,d=a.currentStyle,g=isNaN(c)?"":"alpha(opacity="+100*c+")",i=f.trim(d&&d.filter||e.filter||"");e.zoom=1;if(1<=c&&""===f.trim(i.replace(j,""))&&(e.removeAttribute("filter"),d&&!d.filter))return;e.filter=j.test(i)?i.replace(j,g):i+(i?", ":"")+g}})}catch(e){}var d=8==d.ie,k={};k.thin=d?"1px":"2px";k.medium=d?"3px":"4px";k.thick=d?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+a+"Width",e="border"+a+"Style";
m[c]={get:function(a,b){var d=b?a.currentStyle:0,f=d&&""+d[c]||void 0;f&&0>f.indexOf("px")&&(f=k[f]&&"none"!==d[e]?k[f]:0);return f}}});if(!(n.defaultView||{}).getComputedStyle&&p.currentStyle)a._getComputedStyle=function(b,c){var c=a._cssProps[c]||c,e=b.currentStyle&&b.currentStyle[c];if(!r.test(e)&&u.test(e)&&-1==e.indexOf(" ")){var d=b.style,f=d.left,g=b.runtimeStyle&&b.runtimeStyle.left;g&&(b.runtimeStyle.left=b.currentStyle.left);d.left="fontSize"===c?"1em":e||0;e=d.pixelLeft+"px";d.left=f;g&&
(b.runtimeStyle.left=g)}return""===e?"auto":e};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(f,a,d,i){function n(a){return a.replace(q,"ms-").replace(B,w)}function p(a,c,e){var d={},f;for(f in c)c.hasOwnProperty(f)&&(d[f]=a[b][f],a[b][f]=c[f]);e.call(a);for(f in c)c.hasOwnProperty(f)&&(a[b][f]=d[f])}function m(a,c,e){var d;if(3===a.nodeType||8===a.nodeType||!(d=a[b]))return i;var c=n(c),f,g=h[c],c=l[c]||c;if(e!==i){null===e||e===y?e=y:!isNaN(Number(e))&&!s[c]&&(e+=D);g&&g.set&&(e=g.set(a,e));if(e!==i){try{d[c]=e}catch(j){}e===y&&d.removeAttribute&&d.removeAttribute(c)}d.cssText||
a.removeAttribute("style");return i}if(!g||!("get"in g&&(f=g.get(a,!1))!==i))f=d[c];return f===i?"":f}function r(a){var b,c=arguments;0!==a.offsetWidth?b=u.apply(i,c):p(a,F,function(){b=u.apply(i,c)});return b}function u(b,e,d){if(f.isWindow(b))return e==c?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return e==c?a.docWidth(b):a.docHeight(b);var g=e===c?["Left","Right"]:["Top","Bottom"],j=e===c?b.offsetWidth:b.offsetHeight;if(0<j)return"border"!==d&&f.each(g,function(c){d||(j-=parseFloat(a.css(b,
"padding"+c))||0);j="margin"===d?j+(parseFloat(a.css(b,d+c))||0):j-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),j;j=a._getComputedStyle(b,e);if(null==j||0>Number(j))j=b.style[e]||0;j=parseFloat(j)||0;d&&f.each(g,function(c){j+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(j+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(j+=parseFloat(a.css(b,d+c))||0)});return j}var g=f.Env.host,j=g.document,e=j.documentElement,k=d.ie,b="style",c="width",o="display"+f.now(),t=parseInt,v=/^-?\d+(?:px)?$/i,
s={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},q=/^-ms-/,B=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},z=/([A-Z]|^ms)/g,y="",D="px",h={},l={},A={};e[b].cssFloat!==i?l["float"]="cssFloat":e[b].styleFloat!==i&&(l["float"]="styleFloat");var x,E;f.mix(a,{_camelCase:n,_CUSTOM_STYLES:h,_cssProps:l,_getComputedStyle:function(c,e){var d="",f,g=c.ownerDocument,e=e.replace(z,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))d=f.getPropertyValue(e)||
f[e];""==d&&!a.contains(g.documentElement,c)&&(e=l[e]||e,d=c[b][e]);return d},style:function(b,c,e){var b=a.query(b),d=b[0];if(f.isPlainObject(c)){for(var g in c)if(c.hasOwnProperty(g))for(d=b.length-1;0<=d;d--)m(b[d],g,c[g]);return i}if(e===i)return g="",d&&(g=m(d,c,e)),g;for(d=b.length-1;0<=d;d--)m(b[d],c,e);return i},css:function(b,c,e){var b=a.query(b),d=b[0];if(f.isPlainObject(c)){for(var g in c)if(c.hasOwnProperty(g))for(d=b.length-1;0<=d;d--)m(b[d],g,c[g]);return i}c=n(c);g=h[c];if(e===i){e=
"";if(d&&(!g||!("get"in g&&(e=g.get(d,!0))!==i)))e=a._getComputedStyle(d,c);return e===i?"":e}for(d=b.length-1;0<=d;d--)m(b[d],c,e);return i},show:function(c){var c=a.query(c),e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[b].display=a.data(e,o)||y,"none"===a.css(e,"display")){var g;a:{g=e.tagName.toLowerCase();var h=void 0,i=void 0;if(!A[g]){h=j.body||j.documentElement;i=j.createElement(g);a.prepend(i,h);var k=a.css(i,"display");h.removeChild(i);if("none"==k||""==k){if(x)a.prepend(x,h);else if(x=j.createElement("iframe"),
x.frameBorder=x.width=x.height=0,a.prepend(x,h),i=void 0,i=a.getEmptyIframeSrc())x.src=i;if(!E||!x.createElement)try{E=x.contentWindow.document,E.write(("CSS1Compat"===j.compatMode?"<!doctype html>":"")+"<html><head>"+(d.ie&&a.isCustomDomain()?"<script>document.domain= '"+j.domain+"';<\/script>":"")+"</head><body>"),E.close()}catch(l){g="block";break a}i=E.createElement(g);E.body.appendChild(i);k=a.css(i,"display");h.removeChild(x)}A[g]=k}g=A[g]}a.data(e,o,g);e[b].display=g}},hide:function(c){var c=
a.query(c),e,d;for(d=c.length-1;0<=d;d--){e=c[d];var f=e[b],g=f.display;"none"!==g&&(g&&a.data(e,o,g),f.display="none")}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;0<=e;e--)c=b[e],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,e){b=b||g;f.isString(b)&&(e=c,c=b,b=g);var b=a.get(b),b=a._getWin(b).document,d;if(e&&(e=e.replace("#",y)))d=a.get("#"+e,b);d||(d=a.create("<style>",{id:e},b),a.get("head",b).appendChild(d),d.styleSheet?d.styleSheet.cssText=c:d.appendChild(b.createTextNode(c)))},
unselectable:function(c){var c=a.query(c),e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],d.gecko)e[b].MozUserSelect="none";else if(d.webkit)e[b].KhtmlUserSelect="none";else if(d.ie||d.opera){var g=0,j=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=j[g++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});f.each([c,"height"],
function(b){a["inner"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c){return(c=a.get(c))&&r(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,e){var d=a.get(c);return d&&r(d,b,e?"margin":"border")};a[b]=function(c,e){var d=a.css(c,b,e);d&&(d=parseFloat(d));return d}});var F={position:"absolute",visibility:"hidden",display:"block"};f.each(["height","width"],function(a){h[a]={get:function(b,c){if(c)return r(b,a)+"px"},set:function(a,b){if(v.test(b)){if(b=parseFloat(b),
0<=b)return b+"px"}else return b}}});f.each(["left","top"],function(b){h[b]={get:function(c,e){if(e){var g=a._getComputedStyle(c,b);if("auto"===g){g=0;if(f.inArray(a.css(c,"position"),["absolute","fixed"])){g=c["left"===b?"offsetLeft":"offsetTop"];if(k&&9!=j.documentMode||d.opera)g-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;g-=t(a.css(c,"margin-"+b))||0}g+="px"}return g}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(f,a,d){function i(g,j,e,i,b,c,o){if(!(g=a.get(g)))return null;if(0===j)return g;c||(g=g[e]);if(!g)return null;b=b&&a.get(b)||null;j===d&&(j=1);var c=[],p=f.isArray(j),r,s;f.isNumber(j)&&(r=0,s=j,j=function(){return++r===s});for(;g&&g!=b;){if((g.nodeType==m.ELEMENT_NODE||g.nodeType==m.TEXT_NODE&&o)&&n(g,j)&&(!i||i(g)))if(c.push(g),!p)break;g=g[e]}return p?c:c[0]||null}function n(d,j){if(!j)return!0;if(f.isArray(j))for(var e=0;e<j.length;e++){if(a.test(d,j[e]))return!0}else if(a.test(d,
j))return!0;return!1}function p(d,j,e,i){var b=[],c,n;if((c=d=a.get(d))&&e)c=d.parentNode;if(c){e=f.makeArray(c.childNodes);for(c=0;c<e.length;c++)n=e[c],(i||n.nodeType==m.ELEMENT_NODE)&&n!=d&&b.push(n);j&&(b=a.filter(b,j))}return b}var m=a.NodeType,r=f.Env.host.document.documentElement,u=r.compareDocumentPosition?function(a,d){return!!(a.compareDocumentPosition(d)&16)}:r.contains?function(a,d){a.nodeType==m.DOCUMENT_NODE&&(a=a.documentElement);d=d.parentNode;return a==d?!0:d&&d.nodeType==m.ELEMENT_NODE?
a.contains&&a.contains(d):!1}:0;f.mix(a,{closest:function(a,d,e,f){return i(a,d,"parentNode",function(a){return a.nodeType!=m.DOCUMENT_FRAGMENT_NODE},e,!0,f)},parent:function(a,f,e){return i(a,f,"parentNode",function(a){return a.nodeType!=m.DOCUMENT_FRAGMENT_NODE},e,d)},first:function(f,j,e){f=a.get(f);return i(f&&f.firstChild,j,"nextSibling",d,d,!0,e)},last:function(f,j,e){f=a.get(f);return i(f&&f.lastChild,j,"previousSibling",d,d,!0,e)},next:function(a,f,e){return i(a,f,"nextSibling",d,d,d,e)},
prev:function(a,f,e){return i(a,f,"previousSibling",d,d,d,e)},siblings:function(a,d,e){return p(a,d,!0,e)},children:function(a,f){return p(a,f,d)},contents:function(a,f){return p(a,f,d,1)},contains:function(d,f){d=a.get(d);f=a.get(f);return d&&f?u(d,f):!1},equals:function(d,f){d=a.query(d);f=a.query(f);if(d.length!=f.length)return!1;for(var e=d.length;0<=e;e--)if(d[e]!=f[e])return!1;return!0}});return a},{requires:["./base"]});
