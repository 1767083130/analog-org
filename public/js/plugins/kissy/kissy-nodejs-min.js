/*
Copyright 2012, KISSY UI Library v1.30rc
MIT Licensed
build time: Sep 12 15:29
*/
(function(){var e=require("jsdom").jsdom;document=e("<html><head></head><body></body></html>");window=document.createWindow();location=window.location;navigator=window.navigator;window.document=document;KISSY=exports.KISSY=window.KISSY=exports;KISSY.Env={host:window}})();
(function(e){function h(c,b){for(var a in b)b.hasOwnProperty(a)&&(c[a]=b[a])}function l(c){for(var b=0;b<c.length;b++)c[b].match(/\/$/)&&(c[b]+="index");return c}function i(c,b){var a=c.length-b.length;return 0<=a&&c.indexOf(b,a)==a}function j(c,b){if(!b)return b;if(e.isArray(b)){for(var a=0;a<b.length;a++)b[a]=j(c,b[a]);return b}0==b.lastIndexOf("../",0)||0==b.lastIndexOf("./",0)?(a=c.replace(/[^/]*$/,""),i(a,"/")||(a+="/"),a=k.normalize(a+b)):a=-1!=b.indexOf("./")||-1!=b.indexOf("../")?k.normalize(b):
b;return a.replace(/\\/g,"/")}var k=require("path");e.Env.mods={};h(e,{configs:{packages:function(c){var b=e.__packages=e.__packages||{},a,d,f;if(e.isArray(c))for(f=0;f<c.length;f++){a=c[f];b[a.name]=a;if((d=a.path||a.base)&&!d.match(/\/$/))d+="/";a.base=d}else for(f in c){a=c[f];b[f]=a;a.name=f;if((d=a.path||a.base)&&!d.match(/\/$/))d+="/";a.base=d}}}});var g=e.Env.mods;h(e,{Config:{base:__dirname.replace(/\\/g,"/")+"/"},getLoader:function(){return e.__loader?e.__loader:e.__loader=e.merge(e.Loader.Target)},
add:function(c,b,a){e.isFunction(c)&&(a=b,b=c,c=this.currentModName);g[c]={name:c,fn:b};e.mix(g[c],a)},_getPath:function(c){var b=this.__packages=this.__packages||{},a="",d;for(d in b)b.hasOwnProperty(d)&&0==c.lastIndexOf(d,0)&&d.length>a&&(a=d);return(b[a]&&b[a].path||this.Config.base)+c},require:function(c){return(c=g[c])&&c.value},_attach:function(c){var b=this._getPath(c),a=g[c];a||(this.currentModName=c,i(b,".css")?(a=document.createElement("link"),a.href=b,a.rel="stylesheet",document.head.appendChild(a),
g[c]={attached:1}):require(b));a=g[c];a.name=c;if(!a.attached){a.requires=a.requires||[];b=a.requires;j(c,b);for(var c=[this],d=0;d<b.length;d++)this._attach(b[d]),c.push(this.require(b[d]));a.value=a.fn.apply(null,c);a.attached=!0;e.getLoader().fire("afterModAttached",{mod:a})}},use:function(c,b){c=c.replace(/\s+/g,"").split(",");l(c);var a=this,d=[this];e.each(c,function(b){a._attach(b);d.push(a.require(b))});b&&b.apply(null,d)}})})(KISSY);
